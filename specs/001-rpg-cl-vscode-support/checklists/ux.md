# UXチェックリスト: RPG/CL 開発支援 VS Code 拡張

**Purpose**: RPG/CL 向け VS Code 拡張における UX / 編集体験関連の要求仕様の品質（網羅性・明確さ・一貫性・測定可能性）をレビューするためのチェックリスト。
**Created**: 2025-11-16
**Feature**: specs/001-rpg-cl-vscode-support/spec.md

**Note**: このチェックリストは `/speckit.checklist` コマンドにより、機能仕様と計画・タスク文書をもとに自動生成されたものです。

## 要求の網羅性 (Requirement Completeness)

- [x] CHK001 RPG/CL の固定形式編集に関する要求（開く・表示・編集・保存・列位置の扱いなど）は、US1 全体で必要な作業ステップを漏れなくカバーする形で列挙されていますか？ [Completeness, Spec §US1, FR-001–FR-003]
- [x] CHK002 RPG 固定形式における各仕様行種別（例: C 行、D 行など）ごとに、「どの列に何を置くか」という列レイアウト要求が、ユーザーが理解できる粒度で網羅的に定義されていますか？ [Completeness, Spec §FR-002]
- [x] CHK003 CL コマンド行／継続行に対する表示・編集ルール（1 行とみなす単位や折り返しの扱いなど）は、US1/US3 のどのシナリオでも必要になるパターンを取りこぼしなく要求に書き出していますか？ [Completeness, Spec §FR-017, FR-028]
- [x] CHK004 RPG 行 4 行目に対する編集制約 FR-031 が想定する対象範囲（該当するソース種別やファイル拡張子、対象外のケースなど）は、要求として十分に列挙されていますか？ [Completeness, Spec §FR-031]
- [x] CHK005 Ctrl+/ によるコメント切り替え機能に関する要求は、RPG と CL の両方について、「どの種類の行／範囲に対して使えるか」が抜けなく記載されていますか？ [Completeness, Spec §FR-016]
- [x] CHK006 Tab キーによる列間移動やスペース挿入のルールは、想定するすべての RPG 固定形式行に対して必要な位置が列挙されており、「どの列がスキップされるか」まで含めて要求レベルで整理されていますか？ [Completeness, Spec §FR-002, FR-021]

## 要求の明確さ (Requirement Clarity)

- [x] CHK007 RPG 固定形式の表示に関する要求では、「列を強調して見せる」「列を揃えて表示する」などの表現が、具体的な表示例やスタイルの説明と結びつけて書かれており、読んだだけで期待される画面イメージが共有できるレベルになっていますか？ [Clarity, Spec §FR-002, FR-021]
- [x] CHK008 FR-031 における「4 行目の編集を制限する」ルールは、「どの操作が禁止され、どの操作は許可されるか」を境界条件も含めて明文化しており、実装者が迷わない表現になっていますか？ [Clarity, Spec §FR-031]
- [x] CHK009 Ctrl+/ に関する要求では、「コメントトグル」として何を指すのか（先頭文字の切り替え・インデントの扱い・複数行選択時の動作など）が具体的に説明され、あいまいな用語に依存していませんか？ [Clarity, Spec §FR-016]
- [x] CHK010 F4 プロンプタに関する要求では、「ローカル編集に揃える」「従来のグリーン・スクリーンに近い」といった比喩的な表現だけでなく、どの UI 要素や挙動がどの既存ツールに対応するのかが具体的に記述されていますか？ [Clarity, Spec §FR-010, FR-021, Spec §US3]
- [x] CHK011 「基本的な構文ハイライト」「十分なエラーメッセージ」といったあいまいな表現について、色分けの単位・強調対象・メッセージに含めるべき情報など、客観的に判断できる基準が要求レベルで記載されていますか？ [Clarity, Spec §FR-007, FR-022]

## 要求の一貫性 (Requirement Consistency)

- [x] CHK012 RPG/CL の対象スコープ（固定形式 RPG のみ、CL はどの拡張子かなど）は、FR-001/FR-034 やタスク定義、quickstart の記述の間で矛盾なく一貫していますか？ [Consistency, Spec §FR-001, FR-034, Tasks §Phase 2]
- [x] CHK013 「ローカル編集のみを対象とし、AS400 への送信・コンパイルは含めない」という制約は、仕様全体（特に US3 の F4 プロンプタ関連）でブレなく繰り返し表現されており、例外パスが紛れ込んでいませんか？ [Consistency, Spec §FR-028, Plan §Constraints]
- [x] CHK014 キーバインド（F4, Ctrl+/ など）に関する要求は、spec.md・plan.md・tasks.md の間で同じ組み合わせ・対象ファイル種別・コンテキストが記載されており、異なるショートカットやスコープが混在していませんか？ [Consistency, Spec §FR-010, FR-016, Tasks §T018–T023]
- [x] CHK015 RPG と CL で共通する編集体験（コメント切り替え・構文ハイライト・診断表示など）に関する要求の粒度や表現は、どちらか片方だけ詳細すぎたり大ざっぱすぎたりせず、同じレベルの具体度と用語で揃えられていますか？ [Consistency, Spec §FR-002, FR-016, FR-017]

## 受け入れ条件の品質 (Acceptance Criteria Quality)

- [x] CHK016 US1/US3 の受け入れシナリオでは、「成功」とみなす条件が、単に操作手順ではなく、編集画面上で満たすべき状態（列位置・コメント状態・プロンプタによる挿入結果など）として具体的に記述されていますか？ [Acceptance Criteria, Spec §User Scenarios, Tasks §Phase 3–4]
- [x] CHK017 受け入れシナリオ内の期待結果は、「見やすい」「十分」などの主観的な表現ではなく、固定形式における列位置・表示内容・エラー表示条件のような客観的に確認可能な条件として書かれていますか？ [Measurability, Spec §Acceptance Scenarios US1]
- [x] CHK018 quickstart.md に記載されている手順と spec.md の受け入れ条件は、同じゴール状態を指しており、どちらか一方だけが追加の UX 要求（例: 特定のハイライトやショートカット）を暗黙に前提としていませんか？ [Consistency, Spec §Acceptance Scenarios, Quickstart]

## シナリオのカバレッジ (Scenario Coverage)

- [x] CHK019 編集体験の要求は、主シナリオ（既存 RPG/CL ファイルの通常編集）だけでなく、読み取り専用ファイルやサポート対象外拡張子など、US1 で想定されるバリエーションに対しても「どう扱うか」が記載されていますか？ [Coverage, Spec §US1, FR-034, Gap]
- [x] CHK020 F4 プロンプタの要求は、カーソル位置がコマンド名上の場合・パラメータ上の場合・何も解釈できない位置の場合など、主要なシナリオごとに期待される挙動が定義されていますか？ [Coverage, Spec §FR-010–FR-012]
- [x] CHK021 Shift-out / Shift-in 可視化（`{` / `}` 表示）に関する要求では、DBCS を含む行・含まない行の両方に対して、表示・編集・コピー＆ペーストの各場面でどう表示されるかのシナリオが整理されていますか？ [Coverage, Spec §FR-022, Gap]

## エッジケースのカバレッジ (Edge Case Coverage)

- [x] CHK022 RPG 固定形式の列位置が規定外（行が短い／想定より長いなど）の場合にどう扱うかが、要求として明示されており、「仕様外」のままにしない方針かどうかが書かれていますか？ [Edge Case, Spec §FR-002, Gap]
- [x] CHK023 CL の行継続 (`+`) が連続する場合や、コメント行と継続行が混在する場合などの複雑なパターンについて、プロンプタ・構文ハイライト・診断のどこまでサポートするかが要求に含まれていますか？ [Edge Case, Spec §FR-017, Gap]
- [x] CHK024 プロンプタでの入力内容が RPG/CL 固定形式の列幅を超える場合にどう扱うか（切り捨て・エラー・警告など）が、要求上で定義されていますか？ [Edge Case, Spec §FR-012, Gap]

## 非機能要求 (Non-Functional Requirements - 最小限)

- [x] CHK025 UX に直結する応答性（編集操作やプロンプタ表示が遅延なく感じられるための目標値など）について、plan.md に記載された性能目標と矛盾しない形で、spec.md 側にも簡潔な非機能要求として触れられていますか？ [Non-Functional, Plan §Performance Goals, Gap]

## 依存関係と前提 (Dependencies & Assumptions)

- [x] CHK026 ローカル編集のみを対象とする前提（AS400 とのリモート連携を含めない）が、UX 要求の中でも明示されており、「コンパイル結果の表示」などリモート依存の体験が紛れ込まないよう注意書きがされていますか？ [Assumption, Spec §FR-028, Plan §Constraints]
- [x] CHK027 JSON ベースのプロンプタ定義に依存する UX 要求（表示項目・入力制約・ヘルプ表示など）は、「定義ファイルが欠落／不正な場合にどう振る舞うべきか」という前提も含めて仕様化されていますか？ [Dependency, Spec §FR-014–FR-015]

## あいまいさ・衝突の検出 (Ambiguities & Conflicts)

- [x] CHK028 「従来のエディタと同等の使い勝手」「モダンな UX」といった抽象的なゴールが記載されている場合、それらが具体的な要求（列の見せ方・キーバインド・メッセージ内容など）と対応付けられており、解釈のばらつきが起きないようになっていますか？ [Ambiguity, Spec §User Scenarios, FR-021]
- [x] CHK029 FR-021 で述べられる UI ポリシー（例えばどの要素を強調し、どの情報を省略するか）が、他の FR（コメントトグルやエラー表示の要求など）と矛盾しておらず、同じ UI コンポーネントに対して相反する指示を出していませんか？ [Conflict, Spec §FR-016, FR-021, FR-022]
- [x] CHK030 US1/US3 間で「どこまでを 1 回の操作として扱うか」（例: F4 押下からプロンプタ入力完了まで）の単位が食い違っていないか、シナリオ記述と FR の記述を突き合わせて確認できるようになっていますか？ [Consistency, Spec §US1, Spec §US3]

